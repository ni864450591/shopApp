{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue?vue&type=template&id=e27a0374&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue","mtime":1620539087640},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+DQogICAgICAgIDxzcGFuIGNsYXNzPSJoZWFkZXJfX2JhY2sgaWNvbmZvbnQiIEBjbGljaz0iaGFuZGxlQmFja0NsaWNrIj4mI3hlNjk3Ozwvc3Bhbj4NCiAgICAgICAgPHNwYW4gY2xhc3M9ImhlYWRlcl9fdGV4dCI+e3ttZXNzYWdlfX08L3NwYW4+DQogICAgICAgIDxzcGFuIGNsYXNzPSJoZWFkZXJfX25ldyIgQGNsaWNrPSIoKSA9PiB7IGhhbmRsZVNhdmVDbGljaygpIH0iPuS/neWtmDwvc3Bhbj4NCiAgICAgPC9kaXY+DQogICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X19pdGVtIj4NCiAgICAgICAg5omA5Zyo5Z+O5biCOjxpbnB1dCB0eXBlPSJ0ZXh0IiB2LW1vZGVsPSJhZGRyZXNzLmNpdHkiIHBsYWNlaG9sZGVyPSLlpoLljJfkuqzluILmnJ3pmLPljLoiPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9faXRlbSI+DQogICAgICAgIOWwj+WMui/lpKfljqYv5a2m5qCh77yaPGlucHV0IHR5cGU9InRleHQiIHYtbW9kZWw9ImFkZHJlc3MuZGVwYXJ0bWVudCIgIHBsYWNlaG9sZGVyPSLlpoLlhYnljY7lsI/ljLoiPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9faXRlbSI+DQogICAgICAgIOalvOWPty3pl6jniYzlj7c6PGlucHV0IHR5cGU9InRleHQiIHYtbW9kZWw9ImFkZHJlc3MuaG91c2VudW1iZXIiIHBsYWNlaG9sZGVyPSIz5Y+35qW8MTDlsYIzMDMiPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9faXRlbSI+DQogICAgICAgIOaUtui0p+S6uu+8mjo8aW5wdXQgdHlwZT0idGV4dCIgdi1tb2RlbD0iYWRkcmVzcy5uYW1lIiAgcGxhY2Vob2xkZXI9IuWmguivt+Whq+WGmeaUtui0p+S6uuWnk+WQjSI+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X19pdGVtIj4NCiAgICAgICAg6IGU57O755S16K+d77yaOjxpbnB1dCB0eXBlPSJ0ZXh0IiAgdi1tb2RlbD0iYWRkcmVzcy5waG9uZSIgcGxhY2Vob2xkZXI9Iuivt+Whq+WGmeaUtui0p+S6uuiBlOezu+eUteivnSI+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0K"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue"],"names":[],"mappings":";KACK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;KACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Administrator/Desktop/jingDong/jingdong/src/views/address/UpdateAddress.vue","sourceRoot":"","sourcesContent":["<template>\r\n     <div class=\"header\">\r\n        <span class=\"header__back iconfont\" @click=\"handleBackClick\">&#xe697;</span>\r\n        <span class=\"header__text\">{{message}}</span>\r\n        <span class=\"header__new\" @click=\"() => { handleSaveClick() }\">保存</span>\r\n     </div>\r\n     <div class=\"content\">\r\n        <div class=\"content__item\">\r\n        所在城市:<input type=\"text\" v-model=\"address.city\" placeholder=\"如北京市朝阳区\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        小区/大厦/学校：<input type=\"text\" v-model=\"address.department\"  placeholder=\"如光华小区\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        楼号-门牌号:<input type=\"text\" v-model=\"address.housenumber\" placeholder=\"3号楼10层303\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        收货人：:<input type=\"text\" v-model=\"address.name\"  placeholder=\"如请填写收货人姓名\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        联系电话：:<input type=\"text\"  v-model=\"address.phone\" placeholder=\"请填写收货人联系电话\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { post, patch, get } from '../../utils/request'\r\nimport { reactive, toRefs } from 'vue'\r\n//  地址的新建或更新\r\nconst useTopEffect = () => {\r\n  const router = useRouter()\r\n  const route = useRoute()\r\n  const data = reactive({ address: {} })\r\n  const addressId = route.params.id\r\n  const addressObj = { }\r\n  const message = addressId ? '编辑地址' : '新建地址'\r\n  const handleBackClick = () => {\r\n    router.back()\r\n  }\r\n  const handleSaveClick = async () => {\r\n    const { city, department, housenumber, name, phone } = address.value\r\n    addressObj.city = city\r\n    addressObj.department = department\r\n    addressObj.housenumber = housenumber\r\n    addressObj.name = name\r\n    addressObj.phone = phone\r\n    if (addressId) {\r\n      //  有地址id即是更新\r\n      const res = await patch(`api/user/address/${addressId}`, addressObj)\r\n      if (res.errno === 0) { router.back() }\r\n    } else {\r\n      const res = await post('api/user/address', addressObj)\r\n      if (res.errno === 0) { router.back() }\r\n    }\r\n  }\r\n  const getAddress = async () => {\r\n    //  先获取单个收货地址(id)\r\n    const result = await get(`api/user/address/${addressId}`)\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.address = result.data\r\n    }\r\n  }\r\n  const { address } = toRefs(data)\r\n  return { handleBackClick, handleSaveClick, message, getAddress, address, addressId }\r\n}\r\n\r\nexport default {\r\n  name: 'UpdateAddress',\r\n  setup () {\r\n    const { handleBackClick, message, handleSaveClick, getAddress, address, addressId } = useTopEffect()\r\n    if (addressId) getAddress()\r\n    return { handleBackClick, message, handleSaveClick, address }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins';\r\n.wrapper{\r\n@include wrapper;\r\n}\r\n.header{\r\n  box-sizing: border-box;\r\n  padding:0 .18rem;\r\n  display: flex;\r\n  background-color: $bgColor;\r\n  line-height:.44rem;\r\n  &__back{\r\n    font-size:.2rem;\r\n    color: #B6B6B6;\r\n  }\r\n  &__text{\r\n    flex:1;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    color: $content-fontcolor;\r\n    margin:0;\r\n  }\r\n  &__new{\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n  }\r\n}\r\n.content{\r\n  margin-top:.12rem;\r\n  background-color: $bgColor;\r\n  padding:0 .18rem;\r\n  &__item{\r\n    line-height: .44rem;\r\n    border-bottom: 0.01rem solid $content-bgcolor;\r\n    font-size: .14rem;\r\n    color: $medium-fontcolor;\r\n    input{\r\n      outline: none;\r\n      border:none;\r\n      background-color:none;\r\n      color: $light-fontcolor;\r\n      @include  ellipse;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}