{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\src\\views\\login\\Login.vue?vue&type=template&id=2529d779&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\src\\views\\login\\Login.vue","mtime":1619362340741},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTI1MjlkNzc5Iik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0yNTI5ZDc3OSIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiAiaHR0cDovL3d3dy5kZWxsLWxlZS5jb20vaW1ncy92dWUzL3VzZXIucG5nIiwKICBjbGFzczogIndyYXBwZXJfX2ltZyIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dCIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIGNsYXNzOiAid3JhcHBlcl9faW5wdXRfX2NvbnRlbnQiLAogICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXnlKjmiLflkI0iLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5kYXRhLnVzZXJuYW1lID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmRhdGEudXNlcm5hbWVdXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWvhueggSIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLmRhdGEucGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuZGF0YS5wYXNzd29yZF1dKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAid3JhcHBlcl9fbG9naW4tYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZUxvZ2luICYmICRzZXR1cC5oYW5kbGVMb2dpbi5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICLnmbvpmYYiKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogIndyYXBwZXJfX2xvZ2luLWxpbmsiLAogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXIgJiYgJHNldHVwLmhhbmRsZVJlZ2lzdGVyLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIueri+WNs+azqOWGjCIpXSk7Cn0pOw=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingDong\\jingdongdemo\\src\\views\\login\\Login.vue"],"names":[],"mappings":";;;;;;;AACS,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAA2E,KAA3E,EAA2E;AAAtE,EAAA,GAAG,EAAC,4CAAkE;AAArB,EAAA,KAAK,EAAC;AAAe,CAA3E,E,IAAA,E;;AAAA,C;;;AACK,EAAA,KAAK,EAAC;;;AAQN,EAAA,KAAK,EAAC;;;;;;uBAVf,YAAA,CAoBM,KApBN,EAAA,UAAA,EAoBM,CAnBF,UAmBE,EAlBF,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,C,gBANF,YAAA,CAKE,OALF,EAKE;AAJF,IAAA,IAAI,EAAC,MAIH;AAHF,IAAA,KAAK,EAAC,yBAGJ;AAFF,IAAA,WAAW,EAAC,QAEV;;aADO,MAAA,CAAA,IAAA,CAAK,QAAL,GAAa,M;;AACpB,GALF,E,IAAA,E;;AAAA,G,iBAIS,MAAA,CAAA,IAAA,CAAK,Q,GAEZ,CAPN,CAkBE,EAVF,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,C,gBANF,YAAA,CAKE,OALF,EAKE;AAJA,IAAA,IAAI,EAAC,UAIL;AAHA,IAAA,KAAK,EAAC,yBAGN;AAFA,IAAA,WAAW,EAAC,OAEZ;;aADS,MAAA,CAAA,IAAA,CAAK,QAAL,GAAa,M;;AACtB,GALF,E,IAAA,E;;AAAA,G,iBAIW,MAAA,CAAA,IAAA,CAAK,Q,GAEd,CAPN,CAUE,EAFF,YAAA,CAAgE,KAAhE,EAAgE;AAA3D,IAAA,KAAK,EAAC,uBAAqD;AAA5B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,WAAA,IAAA,MAAA,CAAA,WAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAuB,GAAhE,EAAwD,IAAxD,CAEE,EADF,YAAA,CAAmE,KAAnE,EAAmE;AAA9D,IAAA,KAAK,EAAC,qBAAwD;AAAjC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,cAAA,IAAA,MAAA,CAAA,cAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAA4B,GAAnE,EAAyD,MAAzD,CACE,CApBN,C","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" class=\"wrapper__img\">\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n            type=\"text\"\r\n            class=\"wrapper__input__content\"\r\n            placeholder=\"请输入用户名\"\r\n            v-model=\"data.username\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"wrapper__input__content\"\r\n              placeholder=\"请输入密码\"\r\n              v-model=\"data.password\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__login-button\" @click=\"handleLogin\">登陆</div>\r\n        <div class=\"wrapper__login-link\" @click=\"handleRegister\">立即注册</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\n\r\n// import axios from 'axios'\r\nimport { reactive } from 'vue'\r\n\r\n// 这里是设置application/json\r\n// axios.defaults.headers.post['Content-Type'] = 'application/json'\r\nexport default {\r\n  name: 'Login',\r\n  setup () {\r\n    const data = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n    const router = useRouter()// 获得router实例\r\n    // 这里是登录后指定跳到首页\r\n    // 获取后端数据 校验登录成功与否\r\n    // 使用try和catch和为了能够接受异常，当接口错误时会抛出异常\r\n    const handleLogin = async () => {\r\n      try {\r\n        const result = await post('api/user/login', {\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        if (result.errno === 0) {\r\n          localStorage.isLogin = true\r\n          router.push({ name: 'Home' })\r\n        } else {\r\n          alert('登录失败')\r\n        }\r\n      } catch (e) {\r\n        alert('请求失败')\r\n      }\r\n    }\r\n    // 这里是在登录页面跳转到注册页面 用<router-link to='/register'> 这个会产生下下划线\r\n    const handleRegister = () => {\r\n      router.push({ name: 'Register' })\r\n    }\r\n    return { handleLogin, handleRegister, data }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n    position:absolute;\r\n    top:50%;\r\n    left:0;\r\n    right:0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height:.66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        background: #F9F9F9;\r\n        border: .01rem solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        height: .48rem;\r\n        margin:0 .4rem .16rem .4rem;\r\n        box-sizing: border-box;\r\n        padding:0 .16rem;\r\n        &__content{\r\n            border:none;\r\n            outline: none;\r\n            background: none;\r\n            width:100%;\r\n            line-height: .48rem;\r\n            font-size: .16rem;\r\n            color:$content-notice-fontcolor;\r\n        }\r\n    }\r\n    &__login-button{\r\n        background: #0091FF;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        margin:.32rem .4rem .16rem .4rem;\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color: #FFF;\r\n        line-height: .48rem;\r\n    }\r\n    &__login-link{\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color:$content-notice-fontcolor;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}