{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\address\\ManageContent.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\address\\ManageContent.vue","mtime":1620538082211},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9qaW5nZG9uZ2RlbW8vamluZ2RvbmctYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7IC8vIOiOt+WPluWcsOWdgOS/oeaBrwoKdmFyIHVzZUFkZHJlc3NFZmZlY3QgPSBmdW5jdGlvbiB1c2VBZGRyZXNzRWZmZWN0KCkgewogIC8vICDlh4blpIfkuIDkuKrlrrnlmagKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIGFkZHJlc3NMaXN0czogW10KICB9KTsgLy8gIOiOt+WPluWcsOWdgOWIl+ihqCjmoLnmja7nlKjmiLflkI3vvIzkvYbmmK/nlKjmiLflkI3lnKjlkI7nq6/nmoRzZXNzaW9u5Lit5bey57uP5pyJ5LqGKQoKICB2YXIgZ2V0QWRkcmVzc0xpc3RzZGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoJ2FwaS91c2VyL2FkZHJlc3MnKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIHJlc3VsdC5kYXRhKSB7CiAgICAgICAgICAgICAgICBkYXRhLmFkZHJlc3NMaXN0cyA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGdldEFkZHJlc3NMaXN0c2RhdGEoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIGFkZHJlc3NMaXN0cyA9IF90b1JlZnMuYWRkcmVzc0xpc3RzOwoKICByZXR1cm4gewogICAgYWRkcmVzc0xpc3RzOiBhZGRyZXNzTGlzdHMsCiAgICBnZXRBZGRyZXNzTGlzdHNkYXRhOiBnZXRBZGRyZXNzTGlzdHNkYXRhCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFuYWdlQ29udGVudCcsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VBZGRyZXNzRWZmZWN0ID0gdXNlQWRkcmVzc0VmZmVjdCgpLAogICAgICAgIGFkZHJlc3NMaXN0cyA9IF91c2VBZGRyZXNzRWZmZWN0LmFkZHJlc3NMaXN0cywKICAgICAgICBnZXRBZGRyZXNzTGlzdHNkYXRhID0gX3VzZUFkZHJlc3NFZmZlY3QuZ2V0QWRkcmVzc0xpc3RzZGF0YTsKCiAgICBnZXRBZGRyZXNzTGlzdHNkYXRhKCk7CiAgICByZXR1cm4gewogICAgICBhZGRyZXNzTGlzdHM6IGFkZHJlc3NMaXN0cwogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\address\\ManageContent.vue"],"names":[],"mappings":";;AAqBA,SAAS,GAAT,QAAoB,qBAApB;AACA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC,C,CACA;;AACA,IAAM,gBAAe,GAAI,SAAnB,gBAAmB,GAAM;AAC7B;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,YAAY,EAAE;AAAhB,GAAD,CAArB,CAF6B,CAG7B;;AACA,MAAM,mBAAkB;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACL,GAAG,CAAC,kBAAD,CADE;;AAAA;AACpB,cAAA,MADoB;;AAE1B,kBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,eAAuB,MAAM,CAAE,IAAnC,EAAyC;AACvC,gBAAA,IAAI,CAAC,YAAL,GAAoB,MAAM,CAAC,IAA3B;AACF;;AAJ0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAlB,mBAAkB;AAAA;AAAA;AAAA,KAAxB;;AAMA,gBAAyB,MAAM,CAAC,IAAD,CAA/B;AAAA,MAAQ,YAAR,WAAQ,YAAR;;AACA,SAAO;AAAE,IAAA,YAAY,EAAZ,YAAF;AAAgB,IAAA,mBAAkB,EAAlB;AAAhB,GAAP;AACF,CAZA;;AAaA,eAAe;AACb,EAAA,IAAI,EAAE,eADO;AAEb,EAAA,KAFa,mBAEJ;AACP,4BAA8C,gBAAgB,EAA9D;AAAA,QAAQ,YAAR,qBAAQ,YAAR;AAAA,QAAsB,mBAAtB,qBAAsB,mBAAtB;;AACA,IAAA,mBAAmB;AACnB,WAAO;AAAE,MAAA,YAAW,EAAX;AAAF,KAAP;AACF;AANa,CAAf","sourcesContent":["<template>\r\n     <div class=\"content\">\r\n        <div class=\"content__myAddress\" v-if=\"addressLists\">我的收货地址</div>\r\n        <div\r\n        class=\"content__item\"\r\n        v-for='item in addressLists'\r\n        :key='item._id'\r\n        >\r\n           <div class=\"content__item__info\">\r\n               <span class=\"content__item__name\">{{item.name}}</span>\r\n               <span class=\"content__item__tel\">{{item.phone}}</span>\r\n           </div>\r\n           <div class=\"content__item__address\">{{item.city}} {{item.department}}{{item.housenumber}}</div>\r\n           <router-link :to=\"{ name: 'UpdateAddress', params: { id: item._id } }\">\r\n            <span class=\"content__item__editor iconfont\">&#xe68b;</span>\r\n           </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '../../utils/request'\r\nimport { reactive, toRefs } from 'vue'\r\n// 获取地址信息\r\nconst useAddressEffect = () => {\r\n  //  准备一个容器\r\n  const data = reactive({ addressLists: [] })\r\n  //  获取地址列表(根据用户名，但是用户名在后端的session中已经有了)\r\n  const getAddressListsdata = async () => {\r\n    const result = await get('api/user/address')\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.addressLists = result.data\r\n    }\r\n  }\r\n  const { addressLists } = toRefs(data)\r\n  return { addressLists, getAddressListsdata }\r\n}\r\nexport default {\r\n  name: 'ManageContent',\r\n  setup () {\r\n    const { addressLists, getAddressListsdata } = useAddressEffect()\r\n    getAddressListsdata()\r\n    return { addressLists }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.content{\r\n  padding:0 .18rem;\r\n  &__myAddress{\r\n    margin: .16rem 0 .12rem 0;\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n  }\r\n  &__item{\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    overflow:hidden;\r\n    height: 100%;\r\n    background-color: $bgColor;\r\n    margin-bottom: .16rem;\r\n    border-radius: .04rem;\r\n    padding:.18rem .16rem;\r\n    &__info{\r\n      margin-bottom: .08rem;\r\n      display: flex;\r\n      font-size: .14rem;\r\n      color: $light-fontcolor;\r\n      margin-right:.63rem\r\n    }\r\n    &__name{\r\n      width:.28rem;\r\n      line-height:.2rem;\r\n    }\r\n    &__tel{\r\n      flex:1;\r\n      text-align: center;\r\n    }\r\n    &__address{\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n      margin-right:.63rem;\r\n    }\r\n    &__editor{\r\n      position: absolute;\r\n      color:$light-fontcolor;\r\n      font-size: .14rem;\r\n      right:.16rem;\r\n      top:.44rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}