{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue?vue&type=template&id=e27a0374&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue","mtime":1620539087640},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtZTI3YTAzNzQiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LWUyN2EwMzc0Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImhlYWRlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJoZWFkZXJfX3RleHQiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY29udGVudCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb250ZW50X19pdGVtIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIOaJgOWcqOWfjuW4gjoiKTsKCnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAiY29udGVudF9faXRlbSIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDlsI/ljLov5aSn5Y6mL+Wtpuagoe+8miIpOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjb250ZW50X19pdGVtIgp9OwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIOalvOWPty3pl6jniYzlj7c6Iik7Cgp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJjb250ZW50X19pdGVtIgp9OwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDmlLbotKfkurrvvJo6Iik7Cgp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAgY2xhc3M6ICJjb250ZW50X19pdGVtIgp9OwoKdmFyIF9ob2lzdGVkXzEzID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDogZTns7vnlLXor53vvJo6Iik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgIGNsYXNzOiAiaGVhZGVyX19iYWNrIGljb25mb250IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZUJhY2tDbGljayAmJiAkc2V0dXAuaGFuZGxlQmFja0NsaWNrLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIu6alyIpLCBfY3JlYXRlVk5vZGUoInNwYW4iLCBfaG9pc3RlZF8yLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5tZXNzYWdlKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogImhlYWRlcl9fbmV3IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICAkc2V0dXAuaGFuZGxlU2F2ZUNsaWNrKCk7CiAgICB9KQogIH0sICLkv53lrZgiKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfaG9pc3RlZF81LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkcmVzcy5jaXR5ID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIuWmguWMl+S6rOW4guacnemYs+WMuiIKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmFkZHJlc3MuY2l0eV1dKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfaG9pc3RlZF83LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkcmVzcy5kZXBhcnRtZW50ID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIuWmguWFieWNjuWwj+WMuiIKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmFkZHJlc3MuZGVwYXJ0bWVudF1dKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfaG9pc3RlZF85LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkcmVzcy5ob3VzZW51bWJlciA9ICRldmVudDsKICAgIH0pLAogICAgcGxhY2Vob2xkZXI6ICIz5Y+35qW8MTDlsYIzMDMiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5hZGRyZXNzLmhvdXNlbnVtYmVyXV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfaG9pc3RlZF8xMSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLmFkZHJlc3MubmFtZSA9ICRldmVudDsKICAgIH0pLAogICAgcGxhY2Vob2xkZXI6ICLlpoLor7floavlhpnmlLbotKfkurrlp5PlkI0iCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5hZGRyZXNzLm5hbWVdXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMiwgW19ob2lzdGVkXzEzLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkcmVzcy5waG9uZSA9ICRldmVudDsKICAgIH0pLAogICAgcGxhY2Vob2xkZXI6ICLor7floavlhpnmlLbotKfkurrogZTns7vnlLXor50iCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5hZGRyZXNzLnBob25lXV0pXSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfSk7"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\address\\UpdateAddress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n     <div class=\"header\">\r\n        <span class=\"header__back iconfont\" @click=\"handleBackClick\">&#xe697;</span>\r\n        <span class=\"header__text\">{{message}}</span>\r\n        <span class=\"header__new\" @click=\"() => { handleSaveClick() }\">保存</span>\r\n     </div>\r\n     <div class=\"content\">\r\n        <div class=\"content__item\">\r\n        所在城市:<input type=\"text\" v-model=\"address.city\" placeholder=\"如北京市朝阳区\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        小区/大厦/学校：<input type=\"text\" v-model=\"address.department\"  placeholder=\"如光华小区\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        楼号-门牌号:<input type=\"text\" v-model=\"address.housenumber\" placeholder=\"3号楼10层303\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        收货人：:<input type=\"text\" v-model=\"address.name\"  placeholder=\"如请填写收货人姓名\">\r\n        </div>\r\n        <div class=\"content__item\">\r\n        联系电话：:<input type=\"text\"  v-model=\"address.phone\" placeholder=\"请填写收货人联系电话\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { post, patch, get } from '../../utils/request'\r\nimport { reactive, toRefs } from 'vue'\r\n//  地址的新建或更新\r\nconst useTopEffect = () => {\r\n  const router = useRouter()\r\n  const route = useRoute()\r\n  const data = reactive({ address: {} })\r\n  const addressId = route.params.id\r\n  const addressObj = { }\r\n  const message = addressId ? '编辑地址' : '新建地址'\r\n  const handleBackClick = () => {\r\n    router.back()\r\n  }\r\n  const handleSaveClick = async () => {\r\n    const { city, department, housenumber, name, phone } = address.value\r\n    addressObj.city = city\r\n    addressObj.department = department\r\n    addressObj.housenumber = housenumber\r\n    addressObj.name = name\r\n    addressObj.phone = phone\r\n    if (addressId) {\r\n      //  有地址id即是更新\r\n      const res = await patch(`api/user/address/${addressId}`, addressObj)\r\n      if (res.errno === 0) { router.back() }\r\n    } else {\r\n      const res = await post('api/user/address', addressObj)\r\n      if (res.errno === 0) { router.back() }\r\n    }\r\n  }\r\n  const getAddress = async () => {\r\n    //  先获取单个收货地址(id)\r\n    const result = await get(`api/user/address/${addressId}`)\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.address = result.data\r\n    }\r\n  }\r\n  const { address } = toRefs(data)\r\n  return { handleBackClick, handleSaveClick, message, getAddress, address, addressId }\r\n}\r\n\r\nexport default {\r\n  name: 'UpdateAddress',\r\n  setup () {\r\n    const { handleBackClick, message, handleSaveClick, getAddress, address, addressId } = useTopEffect()\r\n    if (addressId) getAddress()\r\n    return { handleBackClick, message, handleSaveClick, address }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins';\r\n.wrapper{\r\n@include wrapper;\r\n}\r\n.header{\r\n  box-sizing: border-box;\r\n  padding:0 .18rem;\r\n  display: flex;\r\n  background-color: $bgColor;\r\n  line-height:.44rem;\r\n  &__back{\r\n    font-size:.2rem;\r\n    color: #B6B6B6;\r\n  }\r\n  &__text{\r\n    flex:1;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    color: $content-fontcolor;\r\n    margin:0;\r\n  }\r\n  &__new{\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n  }\r\n}\r\n.content{\r\n  margin-top:.12rem;\r\n  background-color: $bgColor;\r\n  padding:0 .18rem;\r\n  &__item{\r\n    line-height: .44rem;\r\n    border-bottom: 0.01rem solid $content-bgcolor;\r\n    font-size: .14rem;\r\n    color: $medium-fontcolor;\r\n    input{\r\n      outline: none;\r\n      border:none;\r\n      background-color:none;\r\n      color: $light-fontcolor;\r\n      @include  ellipse;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}