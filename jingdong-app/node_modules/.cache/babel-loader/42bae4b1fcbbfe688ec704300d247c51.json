{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\register\\Register.vue","mtime":1620536127271},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9qaW5nZG9uZ2RlbW8vamluZ2RvbmctYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IFRvYXN0LCB7IHVzZVRvYXN0RWZmZWN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Ub2FzdCc7IC8vIOi/memHjOaKveemu+azqOWGjOeahOmAu+i+keWSjOaVsOaNrgovLyAg6YC76L6R5ZKM5oCd6LevCi8vICAx44CB6L+Y5piv5YeG5aSH5aW95o6l5pS255So5oi36L6T5YWl77yM54S25ZCO6L+b6KGM5Y+M5ZCR5pWw5o2u57uR5a6aCi8vICAy44CB5qOA6aqM5piv5ZCm5ZCI5rOV6L6T5YWl77yM54S25ZCO5Y+R6YCB5ZCO56uvKOWPkemAgeaXtuimgeWOu+eci+WQjuerr+eahOaOpeWPo+imgeaxguWPiui/lOWbnueahOaVsOaNrikKLy8gIFVTZXI6U2NoZW1hIE1vZGVsCi8vICAz44CB5rOo5YaM5oiQ5Yqf5ZCO6Lez5Yiw55m75b2V6aG16Z2i77yM5aSx6LSl5YiZ5by55Ye65rOo5YaM5aSx6LSlCgp2YXIgdXNlUmVnaXN0ZXJFZmZmZWN0ID0gZnVuY3Rpb24gdXNlUmVnaXN0ZXJFZmZmZWN0KHRvYXN0TWVzc2FnZSkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAnJywKICAgIHBhc3N3b3JkOiAnJywKICAgIGVuc3VyZW1lbnQ6ICcnCiAgfSk7CgogIHZhciBoYW5kbGVSZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHVzZXJuYW1lLCBwYXNzd29yZCwgZW5zdXJlbWVudCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lLCBwYXNzd29yZCA9IGRhdGEucGFzc3dvcmQsIGVuc3VyZW1lbnQgPSBkYXRhLmVuc3VyZW1lbnQ7CgogICAgICAgICAgICAgIGlmICghKHVzZXJuYW1lID09PSAnJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoJ+W/hemhu+i+k+WFpeeUqOaIt+WQjScpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGlmICghKHBhc3N3b3JkID09PSAnJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoJ+W/hemhu+i+k+WFpeWvhueggScpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGlmICghKHBhc3N3b3JkICE9PSBlbnN1cmVtZW50KSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoJ+S4pOasoeWvhueggeS4jeS4gOagt++8jOivt+mHjeaWsOi+k+WFpScpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCdhcGkvdXNlci9yZWdpc3RlcicsIHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoJ+azqOWGjOWksei0pScpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTc7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxMCk7CiAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCfor7fmsYLlpLHotKUnKTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMTAsIDE3XV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVSZWdpc3RlcigpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhkYXRhKSwKICAgICAgdXNlcm5hbWUgPSBfdG9SZWZzLnVzZXJuYW1lLAogICAgICBwYXNzd29yZCA9IF90b1JlZnMucGFzc3dvcmQsCiAgICAgIGVuc3VyZW1lbnQgPSBfdG9SZWZzLmVuc3VyZW1lbnQ7CgogIHJldHVybiB7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncmVnaXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdCwKICAgICAgICB0b2FzdG1lc3NhZ2UgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RtZXNzYWdlLAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2U7CgogICAgdmFyIF91c2VSZWdpc3RlckVmZmZlY3QgPSB1c2VSZWdpc3RlckVmZmZlY3QodG9hc3RNZXNzYWdlKSwKICAgICAgICB1c2VybmFtZSA9IF91c2VSZWdpc3RlckVmZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlUmVnaXN0ZXJFZmZmZWN0LnBhc3N3b3JkLAogICAgICAgIGVuc3VyZW1lbnQgPSBfdXNlUmVnaXN0ZXJFZmZmZWN0LmVuc3VyZW1lbnQsCiAgICAgICAgaGFuZGxlUmVnaXN0ZXIgPSBfdXNlUmVnaXN0ZXJFZmZmZWN0LmhhbmRsZVJlZ2lzdGVyOwoKICAgIHJldHVybiB7CiAgICAgIGhhbmRsZVJlZ2lzdGVyOiBoYW5kbGVSZWdpc3RlciwKICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgIGVuc3VyZW1lbnQ6IGVuc3VyZW1lbnQsCiAgICAgIHNob3dUb2FzdDogc2hvd1RvYXN0LAogICAgICB0b2FzdG1lc3NhZ2U6IHRvYXN0bWVzc2FnZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingdongdemo\\jingdong-app\\src\\views\\register\\Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" class=\"wrapper__img\"/>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n            type=\"text\"\r\n            class=\"wrapper__input__content\"\r\n            placeholder=\"请输入用户名\"\r\n            v-model=\"username\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"wrapper__input__content\"\r\n              placeholder=\"请输入密码\"\r\n              autocomplete=\"new-password\"\r\n              v-model=\"password\"\r\n            />\r\n        </div>\r\n         <div class=\"wrapper__input\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"wrapper__input__content\"\r\n              placeholder=\"请再次输入密码\"\r\n              v-model=\"ensurement\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n        <router-link :to=\"{path:'/login'}\">\r\n          <div class=\"wrapper__register-link\">已有账号去登陆</div>\r\n        </router-link>\r\n        <Toast v-if = 'showToast' :message = 'toastmessage'/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 这里抽离注册的逻辑和数据\r\n//  逻辑和思路\r\n//  1、还是准备好接收用户输入，然后进行双向数据绑定\r\n//  2、检验是否合法输入，然后发送后端(发送时要去看后端的接口要求及返回的数据)\r\n//  USer:Schema Model\r\n//  3、注册成功后跳到登录页面，失败则弹出注册失败\r\nconst useRegisterEfffect = (toastMessage) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n\r\n  const handleRegister = async () => {\r\n    const { username, password, ensurement } = data\r\n    if (username === '') {\r\n      toastMessage('必须输入用户名')\r\n      return\r\n    }\r\n    if (password === '') {\r\n      toastMessage('必须输入密码')\r\n      return\r\n    }\r\n    if (password !== ensurement) {\r\n      toastMessage('两次密码不一样，请重新输入')\r\n      return\r\n    }\r\n    try {\r\n      //  这里就跳到了后端，让后端去处理,拿到后端的ctx.body.data\r\n      const result = await post('api/user/register', {\r\n        username,\r\n        password\r\n      })\r\n      if (result.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        toastMessage('注册失败')\r\n      }\r\n    } catch (e) {\r\n      toastMessage('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\n\r\nexport default {\r\n  name: 'register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { showToast, toastmessage, toastMessage } = useToastEffect()\r\n    const { username, password, ensurement, handleRegister } = useRegisterEfffect(toastMessage)\r\n\r\n    return { handleRegister, username, password, ensurement, showToast, toastmessage }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n    position:absolute;\r\n    top:50%;\r\n    left:0;\r\n    right:0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height:.66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        background: #F9F9F9;\r\n        border: .01rem solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        height: .48rem;\r\n        margin:0 .4rem .16rem .4rem;\r\n        box-sizing: border-box;\r\n        padding:0 .16rem;\r\n        &__content{\r\n            border:none;\r\n            outline: none;\r\n            background: none;\r\n            width:100%;\r\n            line-height: .42rem;\r\n            font-size: .16rem;\r\n            color:$content-notice-fontcolor;\r\n        }\r\n    }\r\n    &__register-button{\r\n        background: #0091FF;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        margin:.32rem .4rem .16rem .4rem;\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color:$bgColor;\r\n        line-height: .48rem;\r\n    }\r\n    &__register-link{\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color:$content-notice-fontcolor;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}