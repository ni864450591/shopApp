{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\register\\Register.vue","mtime":1620536091663},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9qaW5nRG9uZy9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVG9hc3QnOyAvLyDov5nph4zmir3nprvms6jlhoznmoTpgLvovpHlkozmlbDmja4KLy8gIOmAu+i+keWSjOaAnei3rwovLyAgMeOAgei/mOaYr+WHhuWkh+WlveaOpeaUtueUqOaIt+i+k+WFpe+8jOeEtuWQjui/m+ihjOWPjOWQkeaVsOaNrue7keWumgovLyAgMuOAgeajgOmqjOaYr+WQpuWQiOazlei+k+WFpe+8jOeEtuWQjuWPkemAgeWQjuerryjlj5HpgIHml7bopoHljrvnnIvlkI7nq6/nmoTmjqXlj6PopoHmsYLlj4rov5Tlm57nmoTmlbDmja4pCi8vICBVU2VyOlNjaGVtYSBNb2RlbAovLyAgM+OAgeazqOWGjOaIkOWKn+WQjui3s+WIsOeZu+W9lemhtemdou+8jOWksei0peWImeW8ueWHuuazqOWGjOWksei0pQoKdmFyIHVzZVJlZ2lzdGVyRWZmZmVjdCA9IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyRWZmZmVjdCh0b2FzdE1lc3NhZ2UpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICB1c2VybmFtZTogJycsCiAgICBwYXNzd29yZDogJycsCiAgICBlbnN1cmVtZW50OiAnJwogIH0pOwoKICB2YXIgaGFuZGxlUmVnaXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1c2VybmFtZSwgcGFzc3dvcmQsIGVuc3VyZW1lbnQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZSwgcGFzc3dvcmQgPSBkYXRhLnBhc3N3b3JkLCBlbnN1cmVtZW50ID0gZGF0YS5lbnN1cmVtZW50OwoKICAgICAgICAgICAgICBpZiAoISh1c2VybmFtZSA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCflv4XpobvovpPlhaXnlKjmiLflkI0nKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpZiAoIShwYXNzd29yZCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCflv4XpobvovpPlhaXlr4bnoIEnKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBpZiAoIShwYXNzd29yZCAhPT0gZW5zdXJlbWVudCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCfkuKTmrKHlr4bnoIHkuI3kuIDmoLfvvIzor7fph43mlrDovpPlhaUnKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gcG9zdCgnYXBpL3VzZXIvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCfms6jlhozlpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMTApOwogICAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgn6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEwLCAxN11dKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50ID0gX3RvUmVmcy5lbnN1cmVtZW50OwoKICByZXR1cm4gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgZW5zdXJlbWVudDogZW5zdXJlbWVudCwKICAgIGhhbmRsZVJlZ2lzdGVyOiBoYW5kbGVSZWdpc3RlcgogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlZ2lzdGVyJywKICBjb21wb25lbnRzOiB7CiAgICBUb2FzdDogVG9hc3QKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlVG9hc3RFZmZlY3QgPSB1c2VUb2FzdEVmZmVjdCgpLAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3QsCiAgICAgICAgdG9hc3RtZXNzYWdlID0gX3VzZVRvYXN0RWZmZWN0LnRvYXN0bWVzc2FnZSwKICAgICAgICB0b2FzdE1lc3NhZ2UgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RNZXNzYWdlOwoKICAgIHZhciBfdXNlUmVnaXN0ZXJFZmZmZWN0ID0gdXNlUmVnaXN0ZXJFZmZmZWN0KHRvYXN0TWVzc2FnZSksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlUmVnaXN0ZXJFZmZmZWN0LnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkID0gX3VzZVJlZ2lzdGVyRWZmZmVjdC5wYXNzd29yZCwKICAgICAgICBlbnN1cmVtZW50ID0gX3VzZVJlZ2lzdGVyRWZmZmVjdC5lbnN1cmVtZW50LAogICAgICAgIGhhbmRsZVJlZ2lzdGVyID0gX3VzZVJlZ2lzdGVyRWZmZmVjdC5oYW5kbGVSZWdpc3RlcjsKCiAgICByZXR1cm4gewogICAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIsCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgICBzaG93VG9hc3Q6IHNob3dUb2FzdCwKICAgICAgdG9hc3RtZXNzYWdlOiB0b2FzdG1lc3NhZ2UKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\jingDong\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":";;AAqCA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,wBAAtC,C,CAEA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAM,kBAAiB,GAAI,SAArB,kBAAqB,CAAC,YAAD,EAAkB;AAC3C,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,IAAA,QAAQ,EAAE,EADU;AAEpB,IAAA,QAAQ,EAAE,EAFU;AAGpB,IAAA,UAAU,EAAE;AAHQ,GAAD,CAArB;;AAMA,MAAM,cAAa;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,cAAA,QADa,GACsB,IADtB,CACb,QADa,EACH,QADG,GACsB,IADtB,CACH,QADG,EACO,UADP,GACsB,IADtB,CACO,UADP;;AAAA,oBAEjB,QAAO,KAAM,EAFI;AAAA;AAAA;AAAA;;AAGnB,cAAA,YAAY,CAAC,SAAD,CAAZ;AAHmB;;AAAA;AAAA,oBAMjB,QAAO,KAAM,EANI;AAAA;AAAA;AAAA;;AAOnB,cAAA,YAAY,CAAC,QAAD,CAAZ;AAPmB;;AAAA;AAAA,oBAUjB,QAAO,KAAM,UAVI;AAAA;AAAA;AAAA;;AAWnB,cAAA,YAAY,CAAC,eAAD,CAAZ;AAXmB;;AAAA;AAAA;AAAA;AAAA,qBAgBE,IAAI,CAAC,mBAAD,EAAsB;AAC7C,gBAAA,QAAQ,EAAR,QAD6C;AAE7C,gBAAA,QAAO,EAAP;AAF6C,eAAtB,CAhBN;;AAAA;AAgBb,cAAA,MAhBa;;AAoBnB,kBAAI,MAAM,CAAC,KAAP,KAAiB,CAArB,EAAwB;AACtB,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AACF,eAFA,MAEO;AACL,gBAAA,YAAY,CAAC,MAAD,CAAZ;AACF;;AAxBmB;AAAA;;AAAA;AAAA;AAAA;AA0BnB,cAAA,YAAY,CAAC,MAAD,CAAZ;;AA1BmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAb,cAAa;AAAA;AAAA;AAAA,KAAnB;;AA6BA,gBAA2C,MAAM,CAAC,IAAD,CAAjD;AAAA,MAAQ,QAAR,WAAQ,QAAR;AAAA,MAAkB,QAAlB,WAAkB,QAAlB;AAAA,MAA4B,UAA5B,WAA4B,UAA5B;;AACA,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,QAAQ,EAAR,QAAZ;AAAsB,IAAA,UAAU,EAAV,UAAtB;AAAkC,IAAA,cAAa,EAAb;AAAlC,GAAP;AACF,CAvCA;;AAyCA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGJ;AACP,0BAAkD,cAAc,EAAhE;AAAA,QAAQ,SAAR,mBAAQ,SAAR;AAAA,QAAmB,YAAnB,mBAAmB,YAAnB;AAAA,QAAiC,YAAjC,mBAAiC,YAAjC;;AACA,8BAA2D,kBAAkB,CAAC,YAAD,CAA7E;AAAA,QAAQ,QAAR,uBAAQ,QAAR;AAAA,QAAkB,QAAlB,uBAAkB,QAAlB;AAAA,QAA4B,UAA5B,uBAA4B,UAA5B;AAAA,QAAwC,cAAxC,uBAAwC,cAAxC;;AAEA,WAAO;AAAE,MAAA,cAAc,EAAd,cAAF;AAAkB,MAAA,QAAQ,EAAR,QAAlB;AAA4B,MAAA,QAAQ,EAAR,QAA5B;AAAsC,MAAA,UAAU,EAAV,UAAtC;AAAkD,MAAA,SAAS,EAAT,SAAlD;AAA6D,MAAA,YAAW,EAAX;AAA7D,KAAP;AACF;AARa,CAAf","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" class=\"wrapper__img\"/>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n            type=\"text\"\r\n            class=\"wrapper__input__content\"\r\n            placeholder=\"请输入用户名\"\r\n            v-model=\"username\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"wrapper__input__content\"\r\n              placeholder=\"请输入密码\"\r\n              autocomplete=\"new-password\"\r\n              v-model=\"password\"\r\n            />\r\n        </div>\r\n         <div class=\"wrapper__input\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"wrapper__input__content\"\r\n              placeholder=\"请再次输入密码\"\r\n              v-model=\"ensurement\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n        <router-link :to=\"{path:'/login'}\">\r\n          <div class=\"wrapper__register-link\">已有账号去登陆</div>\r\n        </router-link>\r\n        <Toast v-if = 'showToast' :message = 'toastmessage'/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 这里抽离注册的逻辑和数据\r\n//  逻辑和思路\r\n//  1、还是准备好接收用户输入，然后进行双向数据绑定\r\n//  2、检验是否合法输入，然后发送后端(发送时要去看后端的接口要求及返回的数据)\r\n//  USer:Schema Model\r\n//  3、注册成功后跳到登录页面，失败则弹出注册失败\r\nconst useRegisterEfffect = (toastMessage) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n\r\n  const handleRegister = async () => {\r\n    const { username, password, ensurement } = data\r\n    if (username === '') {\r\n      toastMessage('必须输入用户名')\r\n      return\r\n    }\r\n    if (password === '') {\r\n      toastMessage('必须输入密码')\r\n      return\r\n    }\r\n    if (password !== ensurement) {\r\n      toastMessage('两次密码不一样，请重新输入')\r\n      return\r\n    }\r\n    try {\r\n      //  这里就跳到了后端，让后端去处理\r\n      const result = await post('api/user/register', {\r\n        username,\r\n        password\r\n      })\r\n      if (result.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        toastMessage('注册失败')\r\n      }\r\n    } catch (e) {\r\n      toastMessage('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\n\r\nexport default {\r\n  name: 'register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { showToast, toastmessage, toastMessage } = useToastEffect()\r\n    const { username, password, ensurement, handleRegister } = useRegisterEfffect(toastMessage)\r\n\r\n    return { handleRegister, username, password, ensurement, showToast, toastmessage }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n    position:absolute;\r\n    top:50%;\r\n    left:0;\r\n    right:0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height:.66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        background: #F9F9F9;\r\n        border: .01rem solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        height: .48rem;\r\n        margin:0 .4rem .16rem .4rem;\r\n        box-sizing: border-box;\r\n        padding:0 .16rem;\r\n        &__content{\r\n            border:none;\r\n            outline: none;\r\n            background: none;\r\n            width:100%;\r\n            line-height: .42rem;\r\n            font-size: .16rem;\r\n            color:$content-notice-fontcolor;\r\n        }\r\n    }\r\n    &__register-button{\r\n        background: #0091FF;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        margin:.32rem .4rem .16rem .4rem;\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color:$bgColor;\r\n        line-height: .48rem;\r\n    }\r\n    &__register-link{\r\n        text-align: center;\r\n        font-size: .16rem;\r\n        color:$content-notice-fontcolor;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}